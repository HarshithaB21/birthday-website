<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Letter Reveal</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
      position: relative;
      background-color: #3b7ca4;
    }

    body {
      background-image: url('./images/bgr.png');
      background-repeat: no-repeat;
      background-position: center top;
      background-size: auto 105vh;
    }

    .glitter {
      position: absolute;
      inset: 0;
      background-image: url('./images/bgr.png');
      background-size: cover;
      background-repeat: no-repeat;
      opacity: 0.15;
      z-index: 1;
      pointer-events: none;
    }

    .roll-wrapper {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
    }

    .letter-container {
      position: relative;
      max-width: 500px;
      width: 80vw;
      aspect-ratio: 4/7;
    }

    .rolled-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 25px;
      box-shadow: 0 0 30px rgba(183, 231, 253, 0.846);
      z-index: 2;
      display: block;
    }

    .letter-text {
      position: absolute;
      top: 10%;
      left: 10%;
      width: 80%;
      height: 80%;
      overflow-y: auto;
      scrollbar-gutter: stable both-edges;
      padding-right: 15px;

      font-family: 'Great Vibes', cursive;
      font-size: 1.7em;
      color: #034586;
      text-align: justify;
      line-height: 1.6;
      z-index: 3;

      background: transparent;
      opacity: 1;
    }

    /* Optional scrollbar customization */
    .letter-text::-webkit-scrollbar {
      width: 6px;
    }

    .letter-text::-webkit-scrollbar-thumb {
      background: rgba(136, 163, 200, 0.4);
      border-radius: 10px;
    }

     /* Image button (appears after delay) */
    .next-button {
      position: absolute;
      bottom: 10%;
      left: 50%;
      transition: transform 0.3s ease, filter 0.3s ease;
      transform: translateX(-50%);
      width: 60px;
      height: auto;
      opacity: 0;
      z-index: 4;
      animation: showButton 0s ease forwards;
      filter: drop-shadow(0 4px 8px rgba(0, 102, 204, 0.3)) 
              drop-shadow(0 0 5px rgba(0, 102, 255, 0.5));
      border-radius: 20%;
      animation-delay: 40s; /* Adjust depending on typing duration */
      cursor: pointer;
    }

    @keyframes showButton {
      to {
        opacity: 1;
      }
    }
  </style>
</head>
<body>

  <div class="glitter"></div>

  <div class="roll-wrapper">
    <div class="letter-container">
      <img src="./images/letter.jpeg" alt="Letter Image" class="rolled-image">
      <div class="letter-text" id="letterText"></div>
    </div>
  </div>

  <script>
    const text = `My dearest Muthu,
14th June!
Today is your day. I want to thank your mom for bringing into this world someone as incredible, amazing, wise, bold, beautiful (inside and out), and intelligent as you. You’re truly that girl — the one who’s felt like a mom, a mentor, and my best person all rolled into one.

You're the most loving friend I’ve ever had. I cherish every moment spent with you. You showed me what real friendship looks like — how it feels to be seen, supported, and deeply understood. Because of you, I’ve come to believe in the power of genuine connection.

They say, “Friends are the family we choose.” And I can proudly say — I chose right when I chose you.

I love you, NMKV.
Thank you for being in my life.

Wishing you many, many more happy returns of the day, Muthamma ❤️

With all my love,
Always yours.`;

    const letterTextEl = document.getElementById('letterText');
    let index = 0;

    function typeText() {
      if (index < text.length) {
        const char = text[index] === '\n' ? '<br>' : text[index];
        letterTextEl.innerHTML += char;
        index++;

        // Auto-scroll as new content appears
        letterTextEl.scrollTop = letterTextEl.scrollHeight;

        setTimeout(typeText, 40); // typing speed
      }
    }

    window.onload = () => {
      typeText();
    };
  </script>

   <!-- ✅ Appears after typing ends -->
  <a href="closure.html">
    <img src="./images/b1.png" alt="Next" class="next-button">
  </a>
  

</body>
</html>
